{"dependencies":[{"name":"/Users/gerald/Documents/devWorkSpace/worker-auth/tsconfig.json","includedInParent":true,"mtime":1537551019924},{"name":"/Users/gerald/Documents/devWorkSpace/worker-auth/package.json","includedInParent":true,"mtime":1537546153682}],"generated":{"js":"\"use strict\";var e=this&&this.__awaiter||function(e,o,t,n){return new(t||(t=Promise))(function(i,c){function r(e){try{u(n.next(e))}catch(e){c(e)}}function s(e){try{u(n.throw(e))}catch(e){c(e)}}function u(e){e.done?i(e.value):new t(function(o){o(e.value)}).then(r,s)}u((n=n.apply(e,o||[])).next())})};const o=require(\"cookie\"),t=require(\"jsonwebtoken\");function n(o){return e(this,void 0,void 0,function*(){console.log(\"Got request\",o);const e=yield fetch(o);return console.log(\"Got response\",e),e})}addEventListener(\"fetch\",e=>{const o=new Map(e.request.headers);console.log(o),e.respondWith(new Response(o.get(\"cookie\")))});const i=\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJuZXRsaWZ5Iiwic2hhMjU2IjoiZjU5YTgyNGEzYTRhOTFiOWI0MDUyN2UyNmI4ZGExZWE0MzMwNDQ4OTA1OGEwN2UzZWI3Nzc1NWYwOWU0OTBlZCJ9._ezHgQtsQriaFdqYoqiTNgUpjQT3px-_DLHByzrYJug\",c=t.verify(i,\"testnyc\");console.log(c),t.verify(i,\"testnyc\",{algorithms:[\"HS256\"]},function(e,o){return e?console.log(\"looks like there is an error: \",e.message):console.log(\"we got a valid cert!: \",o)});","map":{"mappings":[{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":0}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":13}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":17}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":19}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":25}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":30}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":41}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":50}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":52}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":54}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":56}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":59}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":66}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":70}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":74}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":76}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":86}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":95}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":97}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":100}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":109}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":111}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":114}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":118}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":120}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":122}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":127}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":131}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":137}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":140}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":142}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":146}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":155}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":157}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":160}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":164}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":166}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":168}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":174}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":178}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":184}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":187}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":189}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":193}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":202}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":204}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":207}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":209}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":214}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":216}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":218}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":225}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":229}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":231}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":240}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":243}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":245}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":247}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":256}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":261}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":263}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":266}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":269}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":271}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":273}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":279}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":281}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":284}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":289}},{"source":"index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":300}},{"source":"index.ts","name":null,"original":{"line":1,"column":6},"generated":{"line":1,"column":306}},{"source":"index.ts","name":null,"original":{"line":1,"column":15},"generated":{"line":1,"column":308}},{"source":"index.ts","name":null,"original":{"line":1,"column":23},"generated":{"line":1,"column":316}},{"source":"index.ts","name":null,"original":{"line":2,"column":6},"generated":{"line":1,"column":326}},{"source":"index.ts","name":null,"original":{"line":2,"column":12},"generated":{"line":1,"column":328}},{"source":"index.ts","name":null,"original":{"line":2,"column":20},"generated":{"line":1,"column":336}},{"source":"index.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":352}},{"source":"index.ts","name":null,"original":{"line":10,"column":15},"generated":{"line":1,"column":361}},{"source":"index.ts","name":null,"original":{"line":10,"column":29},"generated":{"line":1,"column":363}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":366}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":373}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":375}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":385}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":392}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":394}},{"source":"index.ts","name":null,"original":{"line":11,"column":10},"generated":{"line":1,"column":406}},{"source":"index.ts","name":null,"original":{"line":11,"column":10},"generated":{"line":1,"column":414}},{"source":"index.ts","name":null,"original":{"line":11,"column":14},"generated":{"line":1,"column":418}},{"source":"index.ts","name":null,"original":{"line":11,"column":29},"generated":{"line":1,"column":432}},{"source":"index.ts","name":null,"original":{"line":12,"column":8},"generated":{"line":1,"column":435}},{"source":"index.ts","name":null,"original":{"line":12,"column":8},"generated":{"line":1,"column":441}},{"source":"index.ts","name":null,"original":{"line":12,"column":25},"generated":{"line":1,"column":449}},{"source":"index.ts","name":null,"original":{"line":12,"column":31},"generated":{"line":1,"column":455}},{"source":"index.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":1,"column":458}},{"source":"index.ts","name":null,"original":{"line":13,"column":10},"generated":{"line":1,"column":465}},{"source":"index.ts","name":null,"original":{"line":13,"column":10},"generated":{"line":1,"column":473}},{"source":"index.ts","name":null,"original":{"line":13,"column":14},"generated":{"line":1,"column":477}},{"source":"index.ts","name":null,"original":{"line":13,"column":30},"generated":{"line":1,"column":492}},{"source":"index.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":1,"column":495}},{"source":"index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":499}},{"source":"index.ts","name":null,"original":{"line":4,"column":17},"generated":{"line":1,"column":516}},{"source":"index.ts","name":null,"original":{"line":4,"column":26},"generated":{"line":1,"column":524}},{"source":"index.ts","name":null,"original":{"line":5,"column":8},"generated":{"line":1,"column":528}},{"source":"index.ts","name":null,"original":{"line":5,"column":8},"generated":{"line":1,"column":534}},{"source":"index.ts","name":null,"original":{"line":5,"column":23},"generated":{"line":1,"column":536}},{"source":"index.ts","name":null,"original":{"line":5,"column":27},"generated":{"line":1,"column":540}},{"source":"index.ts","name":null,"original":{"line":5,"column":31},"generated":{"line":1,"column":544}},{"source":"index.ts","name":null,"original":{"line":5,"column":37},"generated":{"line":1,"column":546}},{"source":"index.ts","name":null,"original":{"line":5,"column":45},"generated":{"line":1,"column":554}},{"source":"index.ts","name":null,"original":{"line":6,"column":10},"generated":{"line":1,"column":563}},{"source":"index.ts","name":null,"original":{"line":6,"column":10},"generated":{"line":1,"column":571}},{"source":"index.ts","name":null,"original":{"line":6,"column":14},"generated":{"line":1,"column":575}},{"source":"index.ts","name":null,"original":{"line":7,"column":8},"generated":{"line":1,"column":578}},{"source":"index.ts","name":null,"original":{"line":7,"column":8},"generated":{"line":1,"column":580}},{"source":"index.ts","name":null,"original":{"line":7,"column":20},"generated":{"line":1,"column":592}},{"source":"index.ts","name":null,"original":{"line":7,"column":24},"generated":{"line":1,"column":596}},{"source":"index.ts","name":null,"original":{"line":7,"column":33},"generated":{"line":1,"column":605}},{"source":"index.ts","name":null,"original":{"line":7,"column":41},"generated":{"line":1,"column":607}},{"source":"index.ts","name":null,"original":{"line":7,"column":45},"generated":{"line":1,"column":611}},{"source":"index.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":625}},{"source":"index.ts","name":null,"original":{"line":17,"column":6},"generated":{"line":1,"column":631}},{"source":"index.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":633}},{"source":"index.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":1,"column":841}},{"source":"index.ts","name":null,"original":{"line":20,"column":16},"generated":{"line":1,"column":843}},{"source":"index.ts","name":null,"original":{"line":20,"column":20},"generated":{"line":1,"column":845}},{"source":"index.ts","name":null,"original":{"line":20,"column":27},"generated":{"line":1,"column":852}},{"source":"index.ts","name":null,"original":{"line":20,"column":34},"generated":{"line":1,"column":854}},{"source":"index.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":865}},{"source":"index.ts","name":null,"original":{"line":21,"column":8},"generated":{"line":1,"column":873}},{"source":"index.ts","name":null,"original":{"line":21,"column":12},"generated":{"line":1,"column":877}},{"source":"index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":880}},{"source":"index.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":882}},{"source":"index.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":889}},{"source":"index.ts","name":null,"original":{"line":23,"column":18},"generated":{"line":1,"column":891}},{"source":"index.ts","name":null,"original":{"line":23,"column":29},"generated":{"line":1,"column":901}},{"source":"index.ts","name":null,"original":{"line":23,"column":31},"generated":{"line":1,"column":902}},{"source":"index.ts","name":null,"original":{"line":23,"column":43},"generated":{"line":1,"column":913}},{"source":"index.ts","name":null,"original":{"line":23,"column":44},"generated":{"line":1,"column":914}},{"source":"index.ts","name":null,"original":{"line":23,"column":56},"generated":{"line":1,"column":924}},{"source":"index.ts","name":null,"original":{"line":23,"column":65},"generated":{"line":1,"column":933}},{"source":"index.ts","name":null,"original":{"line":23,"column":70},"generated":{"line":1,"column":935}},{"source":"index.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":938}},{"source":"index.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":945}},{"source":"index.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":947}},{"source":"index.ts","name":null,"original":{"line":25,"column":19},"generated":{"line":1,"column":955}},{"source":"index.ts","name":null,"original":{"line":25,"column":23},"generated":{"line":1,"column":959}},{"source":"index.ts","name":null,"original":{"line":25,"column":57},"generated":{"line":1,"column":992}},{"source":"index.ts","name":null,"original":{"line":25,"column":61},"generated":{"line":1,"column":994}},{"source":"index.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":1003}},{"source":"index.ts","name":null,"original":{"line":27,"column":17},"generated":{"line":1,"column":1011}},{"source":"index.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":1,"column":1015}},{"source":"index.ts","name":null,"original":{"line":27,"column":47},"generated":{"line":1,"column":1040}}],"sources":{"index.ts":"const cookie = require(\"cookie\");\nconst jwt = require(\"jsonwebtoken\");\n\naddEventListener(\"fetch\", event => {\n  const headers: Map = new Map(event.request.headers);\n  console.log(headers);\n  event.respondWith(new Response(headers.get(\"cookie\")));\n});\n\nasync function handleRequest(request) {\n  console.log(\"Got request\", request);\n  const response = await fetch(request);\n  console.log(\"Got response\", response);\n  return response;\n}\n\nconst token =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJuZXRsaWZ5Iiwic2hhMjU2IjoiZjU5YTgyNGEzYTRhOTFiOWI0MDUyN2UyNmI4ZGExZWE0MzMwNDQ4OTA1OGEwN2UzZWI3Nzc1NWYwOWU0OTBlZCJ9._ezHgQtsQriaFdqYoqiTNgUpjQT3px-_DLHByzrYJug\";\n\nconst decoded = jwt.verify(token, \"testnyc\");\nconsole.log(decoded);\n\njwt.verify(token, \"testnyc\", { algorithms: [\"HS256\"] }, function(err, payload) {\n  if (err) {\n    return console.log(\"looks like there is an error: \", err.message);\n  }\n  return console.log(\"we got a valid cert!: \", payload);\n});\n"},"lineCount":null}},"hash":"ff7018a5264f1b501b710aa132c8134e","cacheData":{"env":{}},"id":1}